/*! 
 * d.css - d.css
 * @version v1.0.0
 * @copyright dingding 
 * @modified time 2019-05-28 16:41:28
 * https://github.com/352926/d
 * https://ding.uq0.com/d/demo.html
 */+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.open=function(t){if(void 0===t.href||0===t.href.length)return!1;var i=this.element;i.find("iframe").hide();var n=null,d="id_"+new Date/1+"_"+(1e10*Math.random()).toFixed(0);if(n=void 0!==t.id&&t.id.length>0?t.id:void 0!==t.menu_id&&t.menu_id.length>0?!1===(o=this.findTabByMenuId(t.menu_id))?d:o.attr("d-id"):d,(s=i.find('iframe[d-id="'+n+'"]')).length>0)s.attr("src",t.href),s.show(),this.selectTab(n,open.title,open.icon);else{var a=void 0===t.title?t.href:t.title,r=void 0===t.desc?"":t.desc,o=this.createTab(n,t.menu_id,a,t.icon,r,!0,!0),l=void 0!==t.menu_id&&t.menu_id.length>0?' d-id="'+t.menu_id+'" ':"",s=e('<iframe d-id="'+n+'" '+l+' src="'+t.href+'" frameborder="0"></iframe>');if(s.appendTo(i),void 0===t.title){var c=s[0];c.attachEvent?c.attachEvent("onload",function(){o.children("span").html(c.contentWindow.document.title)}):c.onload=function(){o.children("span").html(c.contentWindow.document.title)}}}},t.prototype.closeFrame=function(e){this.element.find('iframe[d-id="'+e+'"]').remove()},t.prototype.refresh=function(e){var t=this.element.find('iframe[d-id="'+e+'"]');t.length>0&&t[0].contentWindow.location.reload(!0)},t.prototype.select=function(t){var i=this.element;i.find("iframe").hide();var n=i.find('iframe[d-id="'+t+'"]');if(n.length>0){n.show();var d=this.selectTab(t);if(!1!==d){var a=d.attr("d-menu-id");e(".d-menu-item li").removeClass("active"),e(".d-menu").find('.d-menu-item li > a[d-menu-id="'+a+'"]').length>0&&e(".d-menu").find('.d-menu-item li > a[d-menu-id="'+a+'"]').parent().addClass("active")}return!0}return!1},t.prototype.selectTab=function(t,i,n){var d=e(".d-frame-tabs .d-frame-tabs-center ul.d-tabs-title"),a=d.find('li[d-id="'+t+'"]');if(a.length>0){d.find("li.active").removeClass("active"),a.addClass("active");var r="";return void 0===i&&(r=a.children("span").html()),void 0!==n&&(r=n+r),a.children("span").html(r),a}return!1},t.prototype.findTabByMenuId=function(t){var i=e(".d-frame-tabs .d-frame-tabs-center ul.d-tabs-title").find('li[d-menu-id="'+t+'"]:first');return i.length>0&&i},t.prototype.createTab=function(t,i,n,d,a,r,o){var l=e(".d-frame-tabs .d-frame-tabs-center ul.d-tabs-title");r=void 0===r||r,o=void 0===o||o;var s=e('<li title="'+a+'"><span>'+(d=void 0===d?"":d)+n+"</span></li>");return void 0!==t&&t.length>0&&s.attr("d-id",t),void 0!==i&&i.length>0&&s.attr("d-menu-id",i),!0===r&&(l.find("li.active").removeClass("active"),s.addClass("active")),!0===o&&e('<i class="iconfont d-icon-close"></i>').appendTo(s),s.appendTo(l),s};e.fn.frame=function(i,n){return this.each(function(){var d=e(this),a=d.data("d.frame");a||d.data("d.frame",a=new t(this)),"string"==typeof i&&a[i](n)})},e(".d-frame-tabs").on("click",".d-tabs-title>li:not(.active)>span",function(){var t=e(".d-iframe"),i=e(this).closest("li").attr("d-id");void 0!==i&&0!==i.length&&t.frame("select",i)}).on("click",".d-tabs-title .d-icon-close",function(){var t=e(this).closest("li"),i=t.attr("d-id"),n=e(".d-iframe");if(t.hasClass("active")){e(this).closest(".d-tabs-title").find("li").removeClass("active");var d=t.prev();d.addClass("active");var a=d.attr("d-id");n.frame("select",a)}t.remove(),n.frame("closeFrame",i)})}(jQuery);